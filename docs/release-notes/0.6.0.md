> **Release Notes** — [Back to Release Notes](../index.md#release-notes)

---

# DocumentDB for VS Code Extension v0.6

We are excited to announce the release of **DocumentDB for VS Code Extension v0.6**. This is a landmark update focused on query optimization and developer productivity, introducing a powerful new **Query Insights with Performance Advisor**, enhancing query authoring capabilities, and improving index management for developers working with Amazon DocumentDB and Azure Cosmos DB for MongoDB databases.

## What's New in v0.6.0

### ⭐ Query Insights with Performance Advisor

We are introducing a major new feature: **Query Insights with Performance Advisor**. This powerful tool helps you understand and optimize your queries directly within VS Code. When you run a `find` query against your DocumentDB or MongoDB API database, a new "Query Insights" tab appears, providing a three-stage analysis of your query's performance.

-   **Stage 1: Initial Performance View**
    The first stage provides an immediate, low-cost static analysis of your query. It visualizes the query plan, showing how the database intends to execute your query. This helps you understand the processing stages and visually spot potential performance bottlenecks without re-running the query.

-   **Stage 2: Detailed Execution Analysis**
    For a deeper dive, the second stage runs a detailed execution analysis using `executionStats` to gather authoritative metrics. You'll see precise counts for documents and keys examined, server-side execution time, and a detailed breakdown of each stage in the execution plan. This provides clear insights into how your query actually performed.

    The complex JSON response from the database is translated into an easy-to-comprehend chart, making it simple to visualize the query's execution flow.

-   **Stage 3: AI-Powered Recommendations with GitHub Copilot**
    The final stage brings the power of AI to your query optimization workflow. By clicking "Get AI Suggestions," the extension sends the non-sensitive query shape and execution statistics to a service powered by **GitHub Copilot**. The AI assistant provides:
    -   **Analysis**: A summary of the query's performance.
    -   **Actionable Recommendations**: Suggestions for creating, hiding, or unhiding indexes to improve performance, with an option to apply them directly.
    -   **Detailed Explanations**: A breakdown of the execution plan to help you understand how the query was processed.

This feature helps solve performance issues and educates users on query best practices for DocumentDB and MongoDB API databases.

> Here is a prompt for an AI image generator to visualize the data flow:
>
> "Create a futuristic, clean, and abstract data visualization that illustrates a three-stage data analysis process. The image should depict data flowing from a source, through 'Stage 1: Static Analysis' (represented by blueprint-like wireframes and graphs), then into 'Stage 2: Execution Metrics' (showing dynamic charts and glowing data points), and finally culminating in 'Stage 3: AI Recommendations' (symbolized by a radiant, intelligent orb or neural network providing clear, actionable insights). The overall aesthetic should be sleek, with a dark background and vibrant, glowing lines in shades of blue, green, and purple, conveying a sense of clarity and intelligence."

*(A screenshot of the Query Insights tab will be placed here)*

### ⭐ Improved Query Specification

We've enhanced the query authoring experience to support more sophisticated queries. Previously, you could only specify the `filter` for a `find` query. Now, you have full control to include `projection`, `sort`, `skip`, and `limit` parameters directly in the query editor, enabling more complex data retrieval without leaving VS Code.

*(A screenshot of the improved query editor will be placed here)*

### ⭐ Index Management from the Tree View

Managing your indexes is now easier and more intuitive than ever. You can now `drop`, `hide`, and `unhide` indexes directly from the Connections tree view. Simply expand a database and collection, then expand the "Indexes" node to see all indexes on that collection.

Hovering over an index will show you its details, and the context menu provides the available management operations. This direct workflow helps you maintain your indexes efficiently right from the explorer.

*(A screenshot of the index management context menu will be placed here)*

## Key Fixes and Improvements

- **Improved UI element visibility**
  - Fixed an issue where the autocomplete list in the query area could be hidden behind other UI elements.
  - Corrected a problem where tooltips in the table and tree views were sometimes displayed underneath the selection indicator.
